{"ast":null,"code":"var _jsxFileName = \"/home/behrenle/Projects/private/arithmico-calculator/apps/calculator/src/pages/protocol/protocol.tsx\",\n    _s = $RefreshSig$();\n\nimport { getLoadingLog } from '@behrenle/number-cruncher';\nimport React, { useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport InfoProtocolItem from '../../components/info-protocol-item/info-protocol-item';\nimport MathProtocolItem from '../../components/math-protocol-item/math-protocol-item';\nimport PageContainer from '../../components/page-container/page-container';\nimport useSessionStore from '../../stores/session-store/use-session-store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled(PageContainer)`\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-gap: 1em;\n  padding-bottom: 0;\n`;\n_c = Container;\nconst Header = styled.div`\n  display: flex;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 2.5em;\n  font-weight: var(--me-font-weight-normal);\n  margin: 0;\n`;\n_c3 = Title;\nconst BackButton = styled.button`\n  margin-left: auto;\n  color: inherit;\n  background-color: var(--me-background-100);\n  outline: none;\n  border: none;\n  font-size: 2em;\n  padding: 0.25em 1em;\n  border-radius: 0.25em;\n\n  &:disabled {\n    color: var(--me-text-200);\n  }\n\n  &:enabled:hover {\n    background-color: var(--me-background-300);\n  }\n`;\n_c4 = BackButton;\nconst HistoryContainer = styled.ul`\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -ms-overflow-style: none; /* for Internet Explorer, Edge */\n  scrollbar-width: none; /* for Firefox */\n\n  &::-webkit-scrollbar {\n    display: none; /* for Chrome, Safari, and Opera */\n  }\n\n  & > li {\n    margin-bottom: 1em;\n  }\n\n  & > li:first-child {\n    margin-top: 2em;\n  }\n`;\n_c5 = HistoryContainer;\nexport default function Protocol() {\n  _s();\n\n  const navigate = useNavigate();\n  const history = useSessionStore(state => state.session.protocol);\n  const excludeInfo = useSessionStore(state => state.settings.excludeInfoInProtocol);\n  const containerRef = useRef(null);\n  const [t] = useTranslation();\n  useEffect(() => {\n    if (!containerRef.current) {\n      return;\n    }\n\n    if (containerRef.current.children.length === 0) {\n      return;\n    }\n\n    containerRef.current.children[containerRef.current.children.length - 1].scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [history, containerRef]);\n  const protocolItems = [...getLoadingLog().map(value => ({\n    type: 'info',\n    info: value\n  })), ...history].filter(item => item.type === 'math' || !excludeInfo);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: t('protocol')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BackButton, {\n        onClick: () => navigate('/'),\n        children: t('common.back')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HistoryContainer, {\n      ref: containerRef,\n      children: protocolItems.map((historyItem, index) => historyItem.type === 'math' ? /*#__PURE__*/_jsxDEV(MathProtocolItem, {\n        item: historyItem\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(InfoProtocolItem, {\n        item: historyItem\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Protocol, \"7Vex6sHybYU53FtMqqE7CEG1tCI=\", false, function () {\n  return [useNavigate, useSessionStore, useSessionStore, useTranslation];\n});\n\n_c6 = Protocol;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"BackButton\");\n$RefreshReg$(_c5, \"HistoryContainer\");\n$RefreshReg$(_c6, \"Protocol\");","map":{"version":3,"names":["getLoadingLog","React","useEffect","useRef","useTranslation","useNavigate","styled","InfoProtocolItem","MathProtocolItem","PageContainer","useSessionStore","Container","Header","div","Title","h1","BackButton","button","HistoryContainer","ul","Protocol","navigate","history","state","session","protocol","excludeInfo","settings","excludeInfoInProtocol","containerRef","t","current","children","length","scrollIntoView","behavior","protocolItems","map","value","type","info","filter","item","historyItem","index"],"sources":["/home/behrenle/Projects/private/arithmico-calculator/apps/calculator/src/pages/protocol/protocol.tsx"],"sourcesContent":["import { getLoadingLog } from '@behrenle/number-cruncher';\nimport React, { useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport InfoProtocolItem from '../../components/info-protocol-item/info-protocol-item';\nimport MathProtocolItem from '../../components/math-protocol-item/math-protocol-item';\nimport PageContainer from '../../components/page-container/page-container';\nimport { InfoItem, MathItem } from '../../stores/session-store/types';\nimport useSessionStore from '../../stores/session-store/use-session-store';\n\nconst Container = styled(PageContainer)`\n  display: grid;\n  grid-template-rows: auto 1fr;\n  grid-gap: 1em;\n  padding-bottom: 0;\n`;\n\nconst Header = styled.div`\n  display: flex;\n`;\n\nconst Title = styled.h1`\n  font-size: 2.5em;\n  font-weight: var(--me-font-weight-normal);\n  margin: 0;\n`;\n\nconst BackButton = styled.button`\n  margin-left: auto;\n  color: inherit;\n  background-color: var(--me-background-100);\n  outline: none;\n  border: none;\n  font-size: 2em;\n  padding: 0.25em 1em;\n  border-radius: 0.25em;\n\n  &:disabled {\n    color: var(--me-text-200);\n  }\n\n  &:enabled:hover {\n    background-color: var(--me-background-300);\n  }\n`;\n\nconst HistoryContainer = styled.ul`\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -ms-overflow-style: none; /* for Internet Explorer, Edge */\n  scrollbar-width: none; /* for Firefox */\n\n  &::-webkit-scrollbar {\n    display: none; /* for Chrome, Safari, and Opera */\n  }\n\n  & > li {\n    margin-bottom: 1em;\n  }\n\n  & > li:first-child {\n    margin-top: 2em;\n  }\n`;\n\nexport default function Protocol() {\n  const navigate = useNavigate();\n  const history = useSessionStore((state) => state.session.protocol);\n  const excludeInfo = useSessionStore((state) => state.settings.excludeInfoInProtocol);\n  const containerRef = useRef<HTMLUListElement>(null);\n  const [t] = useTranslation();\n  useEffect(() => {\n    if (!containerRef.current) {\n      return;\n    }\n\n    if (containerRef.current.children.length === 0) {\n      return;\n    }\n\n    containerRef.current.children[containerRef.current.children.length - 1].scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [history, containerRef]);\n\n  const protocolItems: (MathItem | InfoItem)[] = [\n    ...getLoadingLog().map((value) => ({ type: 'info', info: value } as InfoItem)),\n    ...history\n  ].filter((item) => item.type === 'math' || !excludeInfo);\n\n  return (\n    <Container>\n      <Header>\n        <Title>{t('protocol')}</Title>\n        <BackButton onClick={() => navigate('/')}>{t('common.back')}</BackButton>\n      </Header>\n      <HistoryContainer ref={containerRef}>\n        {protocolItems.map((historyItem, index) =>\n          historyItem.type === 'math' ? (\n            <MathProtocolItem item={historyItem} key={index} />\n          ) : (\n            <InfoProtocolItem item={historyItem} key={index} />\n          )\n        )}\n      </HistoryContainer>\n    </Container>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}