{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = evaluatePlus;\n\nvar _2 = _interopRequireDefault(require(\"..\"));\n\nvar _NumberNode = _interopRequireDefault(require(\"../../create/NumberNode\"));\n\nvar _Plus = _interopRequireDefault(require(\"../../create/Plus\"));\n\nvar _Vector = _interopRequireDefault(require(\"../../create/Vector\"));\n\nvar _composeFunctionUtils = require(\"../../utils/compose-function-utils\");\n\nvar _vectorUtils = require(\"../../utils/vector-utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction evaluatePlus(node, context) {\n  var leftChild = (0, _2[\"default\"])(node.left, context);\n  var rightChild = (0, _2[\"default\"])(node.right, context);\n\n  if (leftChild.type === 'number' && rightChild.type === 'number' && context.options.config.operators.plusNumberNumber) {\n    return (0, _NumberNode[\"default\"])(leftChild.value + rightChild.value);\n  } else if (leftChild.type === 'vector' && rightChild.type === 'vector' && context.options.config.operators.plusVectorVector) {\n    if (!(0, _vectorUtils.compareShapesOfVectors)(leftChild, rightChild)) {\n      throw \"ArithmeticError: can not add vectors of incompatible shapes\";\n    }\n\n    return (0, _2[\"default\"])((0, _Vector[\"default\"])(leftChild.values.map(function (_, index) {\n      return (0, _Plus[\"default\"])(leftChild.values[index], rightChild.values[index]);\n    })), context);\n  } else if (leftChild.type === 'function' && rightChild.type === 'function' && context.options.config.operators.plusFunctionFunction) {\n    return (0, _composeFunctionUtils.createBinaryOperatorFunctionComposition)(leftChild, rightChild, _Plus[\"default\"], context);\n  }\n\n  throw \"TypeError: <\".concat(leftChild.type, \"> + <\").concat(rightChild.type, \"> is not defined\");\n}","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;AAEe,SAASA,YAAT,CAAsBC,IAAtB,EAAkCC,OAAlC,EAAoE;EAC/E,IAAMC,SAAS,GAAG,mBAASF,IAAI,CAACG,IAAd,EAAoBF,OAApB,CAAlB;EACA,IAAMG,UAAU,GAAG,mBAASJ,IAAI,CAACK,KAAd,EAAqBJ,OAArB,CAAnB;;EAEA,IACIC,SAAS,CAACI,IAAVJ,KAAmB,QAAnBA,IACAE,UAAU,CAACE,IAAXF,KAAoB,QADpBF,IAEAD,OAAO,CAACM,OAARN,CAAgBO,MAAhBP,CAAuBQ,SAAvBR,CAAiCS,gBAHrC,EAIE;IACE,OAAO,4BAAiBR,SAAS,CAACS,KAAVT,GAAkBE,UAAU,CAACO,KAA9C,CAAP;EALJ,OAMO,IACHT,SAAS,CAACI,IAAVJ,KAAmB,QAAnBA,IACAE,UAAU,CAACE,IAAXF,KAAoB,QADpBF,IAEAD,OAAO,CAACM,OAARN,CAAgBO,MAAhBP,CAAuBQ,SAAvBR,CAAiCW,gBAH9B,EAIL;IACE,IAAI,CAAC,yCAAuBV,SAAvB,EAAkCE,UAAlC,CAAL,EAAoD;MAChD;IACH;;IAED,OAAO,mBACH,wBACIF,SAAS,CAACW,MAAVX,CAAiBY,GAAjBZ,CAAqB,UAACa,CAAD,EAAIC,KAAJ;MAAA,OAAc,sBAAWd,SAAS,CAACW,MAAVX,CAAiBc,KAAjBd,CAAX,EAAoCE,UAAU,CAACS,MAAXT,CAAkBY,KAAlBZ,CAApC,CAAd;IAArB,EADJ,CADG,EAIHH,OAJG,CAAP;EATG,OAeA,IACHC,SAAS,CAACI,IAAVJ,KAAmB,UAAnBA,IACAE,UAAU,CAACE,IAAXF,KAAoB,UADpBF,IAEAD,OAAO,CAACM,OAARN,CAAgBO,MAAhBP,CAAuBQ,SAAvBR,CAAiCgB,oBAH9B,EAIL;IACE,OAAO,mEAAwCf,SAAxC,EAAmDE,UAAnD,EAA+Dc,gBAA/D,EAA2EjB,OAA3E,CAAP;EACH;;EAED,4BAAqBC,SAAS,CAACI,IAA/B,kBAA2CF,UAAU,CAACE,IAAtD;AACH","names":["evaluatePlus","node","context","leftChild","left","rightChild","right","type","options","config","operators","plusNumberNumber","value","plusVectorVector","values","map","_","index","plusFunctionFunction","createPlus"],"sources":["/home/behrenle/Projects/private/arithmico-calculator/node_modules/@behrenle/number-cruncher/src/eval/nodes/Plus.ts"],"sourcesContent":["import evaluate from '..';\nimport createNumberNode from '../../create/NumberNode';\nimport createPlus from '../../create/Plus';\nimport createVector from '../../create/Vector';\nimport { Plus, Context, SyntaxTreeNode } from '../../types';\nimport { createBinaryOperatorFunctionComposition } from '../../utils/compose-function-utils';\nimport { compareShapesOfVectors } from '../../utils/vector-utils';\n\nexport default function evaluatePlus(node: Plus, context: Context): SyntaxTreeNode {\n    const leftChild = evaluate(node.left, context);\n    const rightChild = evaluate(node.right, context);\n\n    if (\n        leftChild.type === 'number' &&\n        rightChild.type === 'number' &&\n        context.options.config.operators.plusNumberNumber\n    ) {\n        return createNumberNode(leftChild.value + rightChild.value);\n    } else if (\n        leftChild.type === 'vector' &&\n        rightChild.type === 'vector' &&\n        context.options.config.operators.plusVectorVector\n    ) {\n        if (!compareShapesOfVectors(leftChild, rightChild)) {\n            throw `ArithmeticError: can not add vectors of incompatible shapes`;\n        }\n\n        return evaluate(\n            createVector(\n                leftChild.values.map((_, index) => createPlus(leftChild.values[index], rightChild.values[index])),\n            ),\n            context,\n        );\n    } else if (\n        leftChild.type === 'function' &&\n        rightChild.type === 'function' &&\n        context.options.config.operators.plusFunctionFunction\n    ) {\n        return createBinaryOperatorFunctionComposition(leftChild, rightChild, createPlus, context);\n    }\n\n    throw `TypeError: <${leftChild.type}> + <${rightChild.type}> is not defined`;\n}\n"]},"metadata":{},"sourceType":"script"}